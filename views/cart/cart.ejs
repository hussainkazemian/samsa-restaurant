<!--cart.ejs -->
<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/head') %>
</head>

<body>
    <%- include('../partials/nav') %>

    <div class="container">
        <h1>Your Shopping Cart</h1>

        <% if (items.length > 0) { %>
            <h3>Product in Cart:</h3>
            <ul>
                <% items.forEach(item => { %>
                    <li>
                        <strong>Name:</strong> <%= item.name %> <br>
                        <strong>Price:</strong> $<%= item.price.toFixed(2) %> <br>
                        <strong>Quantity:</strong> <%= item.quantity %>
                    </li>
                <% }) %>
            </ul>

            <h3>Total: $<%= items.reduce((acc, item) => acc + item.price * item.quantity, 0).toFixed(2) %></h3>

            <p>Please enter your payment information to proceed with the order.</p>

            <h3>Customer Details</h3>
            <form action="/cart/payment" method="POST">
                <div class="form-group">
                    <label for="name">First Name:</label>
                    <input type="text" id="name" name="name" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="surname">Last Name:</label>
                    <input type="text" id="surname" name="surname" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="address">Address:</label>
                    <textarea id="address" name="address" class="form-control" required></textarea>
                </div>
                <div class="form-group">
                    <label for="card">Credit Card Number:</label>
                    <input type="text" id="card" name="card" class="form-control" required>
                </div>
                <button type="submit" class="btn btn-primary">Send</button>
            </form>
        <% } else { %>
            <p>Your cart is empty.</p>
        <% } %>
    </div>
</body>

</html>
