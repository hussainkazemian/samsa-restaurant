<!--cart.ejs -->
<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/head') %>
</head>

<body>
    <%- include('../partials/nav') %>

    <div class="container">
        <h1>Your Shopping Cart</h1>

        <% if (items.length > 0) { %>
            <ul>
                <% items.forEach((item, index) => { %>
                    <li>
                        <%= item.name %> - Quantity: <%= item.quantity %>
                        <!-- Button to remove the item -->
                        <form action="/cart/remove" method="POST" style="display:inline;">
                            <input type="hidden" name="name" value="<%= item.name %>">
                            <button type="submit">Remove</button>
                        </form>
                    </li>
                <% }) %>
            </ul>

            <!-- Button to clear the entire cart -->
            <form action="/cart/clear" method="POST">
                <button type="submit">Clear Cart</button>
            </form>
        <% } else { %>
            <p>Your cart is empty.</p>
        <% } %>

        <h2>Add an Item to Your Cart</h2>
        <form action="/cart/add" method="POST">
            <label for="name">Item Name:</label>
            <input type="text" id="name" name="name" required>
            <label for="quantity">Quantity:</label>
            <input type="number" id="quantity" name="quantity" required min="1">
            <button type="submit">Add to Cart</button>
        </form>
    </div>
</body>

</html>
